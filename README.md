# 东北师范大学抢课爬虫系统

一个基于Flask的Web应用，用于东北师范大学的课程选择和抢课监控。

## 查找cookie方法

![image-20251224120144307](../../AppData/Roaming/Typora/typora-user-images/image-20251224120144307.png)

首先在教务管理系统的任何页面按f12，在开发者工具的存储窗口中找到cookie并点开，复制JSESSIONID中的内容即可

## 功能特性

- ✅ **多种登录方式**: 支持Cookie登录和学号密码登录（学号这个机制太复杂了还没完善）
- ✅ **课程查询**: 支持四种课程类型查询（公共课程净月、专业课程净月、公共课程本部、专业课程本部）
- ✅ **分页显示**: 每页显示10个课程，支持分页浏览
- ✅ **智能搜索**: 支持关键词搜索课程
- ✅ **多线程监控**: 后台多线程监控课程名额，自动抢课
- ✅ **实时状态**: 实时显示监控任务状态
- ✅ **取消监控**: 支持手动停止监控任务
- ✅ **美观界面**: 现代化Web界面，操作简单

## 安装依赖

```bash
pip install -r requirements.txt
```

## 快速开始

### 方法一：使用启动脚本（推荐）
```bash
python run.py
```

### 方法二：直接运行Flask应用
```bash
python app.py
```

然后打开浏览器访问：http://localhost:5000

## 使用说明

### 1. 登录系统
- **Cookie登录**: 从浏览器开发者工具中复制Cookie内容
- **账号密码登录**: 输入学号和密码（需要根据实际登录API实现）

### 2. 查询课程
- 选择课程类型（公共/专业，净月/本部）
- 输入关键词搜索（可选）
- 点击"查询课程"按钮

### 3. 选课操作
- **立即选课**: 直接尝试选择当前课程
- **监控抢课**: 启动后台监控，有名额时自动抢课

### 4. 监控管理
- 查看所有监控任务的状态
- 可以手动停止监控任务
- 状态自动刷新（每3秒）

## 技术架构

- **后端**: Flask + requests
- **前端**: HTML5 + CSS3 + JavaScript
- **多线程**: threading模块
- **网络请求**: requests会话管理

## 文件结构

```
nenu_course/
├── app.py              # 主应用文件
├── run.py              # 启动脚本
├── requirements.txt    # 依赖列表
├── README.md          # 说明文档
└── templates/
    └── index.html     # 前端界面
```

## API接口

### 登录接口
- `POST /login` - 用户登录

### 课程查询接口
- `POST /search` - 查询课程列表

### 选课接口
- `POST /select` - 立即选课

### 监控接口
- `POST /monitor/start` - 启动监控
- `POST /monitor/stop` - 停止监控
- `GET /monitor/status` - 获取监控状态

## 注意事项

1. **Cookie有效期**: Cookie有有效期，过期后需要重新获取
2. **网络稳定性**: 确保网络连接稳定，避免请求失败
3. **并发限制**: 避免过于频繁的请求，防止被服务器限制
4. **合法使用**: 请遵守学校相关规定，合理使用本系统

## 开发说明

如需扩展功能，请参考以下关键类：

- `CourseSelectionSystem`: 核心抢课逻辑
- Flask路由: 处理HTTP请求
- 前端JavaScript: 界面交互逻辑

## 许可证

本项目仅供学习交流使用，请遵守相关法律法规。